<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GM Ritual Dashboard</title>

    <!-- WalletConnect UMD -->
    <script src="https://unpkg.com/@walletconnect/modal@2.5.2/dist/index.umd.js"></script>

    <style>
        body {
            background: #11121a;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 25px;
            text-align: center;
        }

        h1 {
            font-size: 32px;
            margin-top: 40px;
            font-weight: bold;
        }

        button {
            padding: 15px 25px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            margin: 15px 0;
            font-size: 18px;
            width: 85%;
            max-width: 400px;
        }

        #connectBtn {
            background: #005cff;
            color: white;
        }

        .gmBtn {
            background: #1c8eff;
        }

        .gnBtn {
            background: #a061ff;
        }

        .sleepBtn {
            background: #3a3a3a;
        }

        .deployLink {
            margin-top: 30px;
            display: block;
            color: #7dc7ff;
            text-decoration: none;
            font-size: 18px;
        }
    </style>
</head>

<body>

<h1>GM Ritual Dashboard âš¡</h1>

<button id="connectBtn">Connect Wallet</button>

<button class="gmBtn" onclick="doRitual('GM')">GM Ritual ðŸŒž</button>
<button class="gnBtn" onclick="doRitual('GN')">GN Ritual ðŸŒ™</button>
<button class="sleepBtn" onclick="doRitual('SLEEP')">GoSleep Ritual ðŸ˜´</button>

<a class="deployLink" href="/deploy">Deploy your contract ðŸš€</a>

<script>

    const projectId = "2a3dfe7333d2ebd1e71b6d43f2f3e142";

    let provider = null;
    let walletAddress = null;

    async function connectWallet() {
        try {
            const modal = new window.WalletConnectModal.default({
                projectId,
                themeMode: "dark"
            });

            provider = await modal.connect();

            const accounts = await provider.request({ method: "eth_accounts" });
            walletAddress = accounts[0];

            document.getElementById("connectBtn").innerHTML =
                "âœ… Connected " + walletAddress.slice(0, 5) + "..." + walletAddress.slice(-4);

            alert("Wallet connected: " + walletAddress);

        } catch (err) {
            alert("Connection failed: " + err.message);
            console.log(err);
        }
    }

    document.getElementById("connectBtn").onclick = connectWallet;

    async function doRitual(type) {
        if (!walletAddress) {
            alert("Connect wallet first!");
            return;
        }

        alert(type + " ritual triggered! (dummy)");
    }

</script>

</body>
  </html>
